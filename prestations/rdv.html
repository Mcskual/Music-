<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ajouter un RDV</title>
  <style>
    :root {
      --bg:#0f172a;
      --card:#111827;
      --muted:#6b7280;
      --accent:#f97316;
      --accent2:#a855f7;
      --border:#1e293b;
      --text:#e5e7eb;
      --text2:#cbd5e1;
      --shadow:0 10px 30px rgba(0,0,0,.25);
      --bg-gradient:
        radial-gradient(circle at 0% 0%, rgba(249,115,22,.18), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(168,85,247,.16), transparent 55%),
        linear-gradient(120deg,#0c0e1a,#0b1020 40%,#0c1324 70%,#0a0d1a);
    }

    [data-theme="light"] {
      --bg:#f8fafc;
      --card:#ffffff;
      --text:#0f172a;
      --text2:#4b5563;
      --border:#e5e7eb;
      --muted:#6b7280;
      --shadow:0 16px 40px rgba(236,72,153,.12);
      --bg-gradient:
        radial-gradient(circle at 0% 0%, rgba(249,115,22,.12), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(168,85,247,.10), transparent 55%),
        linear-gradient(120deg,#fdf2e9,#f8fafc 42%,#f4f1ff 70%,#f8fafc);
    }

    *{box-sizing:border-box}

    body {
      font-family: "Inter", system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background: var(--bg-gradient);
      color:var(--text);
      margin:0;
      line-height:1.6;
    }

    .container { max-width:1240px; margin:32px auto 56px; padding:0 18px; }

    .top-nav{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 18px;
      min-height:72px;
      background:linear-gradient(125deg,rgba(249,115,22,.18),rgba(168,85,247,.16)),linear-gradient(180deg,rgba(15,23,42,.9),rgba(15,23,42,.78));
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow:0 18px 44px rgba(15,23,42,.35);
      margin-bottom:16px;
      flex-wrap:nowrap;
      overflow:hidden;
      backdrop-filter:blur(10px);
    }
    .top-nav::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(90deg,rgba(255,255,255,.05),transparent 45%,rgba(255,255,255,.08));
      pointer-events:none;
    }
    .nav-brand{
      display:flex;
      flex-direction:column;
      gap:2px;
      font-weight:800;
      letter-spacing:.03em;
    }
    .nav-brand .brand-title{ font-size:12px; text-transform:uppercase; letter-spacing:.14em; }
    .nav-brand .brand-sub{ font-size:11px; color:var(--muted); letter-spacing:.05em; }
    .nav-left{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
      flex-shrink:0;
      height:100%;
      position:relative;
      z-index:1;
    }
    .nav-links{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:center; flex:1; min-width:0; padding:6px 8px; background:rgba(255,255,255,.02); border:1px solid var(--border); border-radius:14px; box-shadow:inset 0 1px 0 rgba(255,255,255,.04); position:relative; z-index:1; }
    [data-theme="light"] .nav-links{ background:rgba(15,23,42,.02); }
    .nav-link{
      position:relative;
      color:var(--text2);
      text-decoration:none;
      padding:9px 13px;
      border-radius:12px;
      border:1px solid transparent;
      background:rgba(15,23,42,.6);
      font-size:13px;
      font-weight:600;
      letter-spacing:.01em;
      transition:.18s background,.18s border-color,.18s color, .18s transform;
    }
    [data-theme="light"] .nav-link{
      background:#f8fafc;
    }
    .nav-link:hover{
      border-color:var(--accent);
      color:#fff;
      background:linear-gradient(135deg,rgba(249,115,22,.18),rgba(168,85,247,.16));
      transform:translateY(-1px);
    }
    [data-theme="light"] .nav-link:hover{ color:var(--accent); }
    .nav-link::after{
      content:"";
      position:absolute;
      left:12px;
      right:12px;
      bottom:6px;
      height:3px;
      border-radius:999px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      opacity:0;
      transform:translateY(6px);
      transition:.2s ease;
    }
    .nav-link:hover::after{ opacity:1; transform:translateY(0); }
    .nav-link.active{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#fff;
      border-color:transparent;
      box-shadow:0 12px 26px rgba(37,99,235,.45);
      transform:translateY(-1px);
    }
    .nav-link.active::after{ opacity:1; transform:translateY(0); background:linear-gradient(135deg,rgba(255,255,255,.9),rgba(255,255,255,.6)); }

    header.app {
      display:flex;
      gap:16px;
      align-items:center;
      margin-bottom:8px;
      flex-wrap:wrap;
    }

    .logo-wrap{
      background:var(--card);
      border-radius:18px;
      padding:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:var(--shadow);
      border:1px solid var(--border);
      text-decoration:none;
      color:inherit;
      min-width:240px;
    }
    .logo-wrap img{
      width:220px;
      height:auto;
      display:block;
      border-radius:14px;
      transition:transform .2s ease, opacity .2s ease;
    }
    .logo-compact{
      padding:6px 10px;
      border-radius:14px;
      min-width:0;
    }
    .logo-compact img{ width:160px; }

    h1 { font-size:clamp(26px,4vw,40px); margin:0; }
    h2 { margin:0 0 12px; font-size:19px; }
    .sub{ color:var(--text2); margin-bottom:16px; font-size:14px; max-width:760px;}

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow:var(--shadow);
      padding:18px;
      margin-top:18px;
    }

    .hero-card{
      position:relative;
      overflow:hidden;
      background:linear-gradient(160deg, rgba(249,115,22,.08), rgba(168,85,247,.08)), var(--card);
      border:1px solid rgba(168,85,247,.30);
      box-shadow:0 16px 42px rgba(0,0,0,.32);
      isolation:isolate;
    }
    .hero-card::after{
      content:"";
      position:absolute;
      inset:-25% auto auto 55%;
      width:360px;
      height:360px;
      background:radial-gradient(circle at center, rgba(249,115,22,.16), transparent 60%);
      filter:blur(18px);
      opacity:.8;
      z-index:-1;
      pointer-events:none;
    }

    .hero-grid{ display:grid; grid-template-columns:1.1fr .9fr; gap:18px; }
    .hero-title{ font-size:22px; margin:0 0 10px; }
    .hero-lead{ color:var(--text2); margin:0 0 12px; font-size:14px; }
    .hero-list{ list-style:none; padding:0; margin:0; display:grid; gap:8px; }
    .hero-list li{ display:flex; gap:8px; align-items:flex-start; color:var(--text2); font-size:14px; }
    .hero-list strong{ color:var(--text); }

    .conseil-pro-box{
      margin-top:16px;
      padding:14px;
      border-radius:14px;
      border:1px solid var(--border);
      background:linear-gradient(135deg, rgba(249,115,22,.08), rgba(168,85,247,.08)), rgba(255,255,255,.02);
      box-shadow:0 10px 26px rgba(0,0,0,.18);
    }
    .conseil-pro-box strong{ display:block; margin-bottom:6px; letter-spacing:.01em; }
    .conseil-pro-box p{ margin:0; color:var(--text2); font-size:14px; }

    .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.04); border:1px solid var(--border); color:var(--text2); font-size:12px; }
    .badge.accent{ background:linear-gradient(120deg,var(--accent),var(--accent2)); color:#fff; border-color:transparent; }

    .metric-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:10px; margin-top:14px; }
    .metric{ background:rgba(255,255,255,.03); border:1px solid var(--border); border-radius:12px; padding:10px 12px; box-shadow:0 10px 18px rgba(0,0,0,.16); }
    .metric-value{ font-weight:700; font-size:20px; }
    .metric-label{ color:var(--text2); font-size:12px; }

    .timeline{ display:grid; gap:10px; margin-top:12px; }
    .timeline-row{ display:flex; gap:10px; align-items:flex-start; }
    .dot{ width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--accent),var(--accent2)); box-shadow:0 6px 16px rgba(37,99,235,.4); margin-top:4px; }
    .timeline-card{ flex:1; background:rgba(255,255,255,.02); border:1px solid var(--border); border-radius:12px; padding:10px 12px; }
    .timeline-card h3{ margin:0 0 4px; font-size:14px; }
    .timeline-card p{ margin:0; color:var(--text2); font-size:13px; }

    .grid{ display:grid; gap:16px; }
    .grid-2{ grid-template-columns:1.15fr .85fr; }
    @media(max-width:960px){
      .grid-2{ grid-template-columns:1fr; }
      header.app{ justify-content:flex-start; }
    }

    .section-heading{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:6px; flex-wrap:wrap; }
    .section-heading .title{ font-weight:700; font-size:17px; }
    .section-heading .meta{ color:var(--text2); font-size:13px; }

    .field-grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:14px; }
    .field-grid.wide{ grid-template-columns:repeat(3,minmax(0,1fr)); }
    .field-full{ grid-column:1 / -1; }
    @media(max-width:820px){
      .field-grid, .field-grid.wide{ grid-template-columns:1fr; }
    }

    label{
      display:block;
      font-size:13px;
      margin-bottom:6px;
      color:var(--text2);
    }

    input[type="text"],
    input[type="date"],
    input[type="number"],
    input[type="time"],
    select,
    textarea{
      width:100%;
      padding:10px 11px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--card);
      color:var(--text);
      font-size:14px;
      outline:none;
      transition:.16s border-color,.16s box-shadow,.16s background,.16s transform;
    }
    input::placeholder,
    textarea::placeholder{ color:#6b7280; font-size:13px;}
    input:focus,
    select:focus,
    textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(37,99,235,.35);
      background:var(--card);
      transform:translateY(-1px);
    }

    .toolbar{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:14px; }

    .quick-templates{ display:flex; flex-wrap:wrap; gap:8px; }
    .chip{ border:1px solid var(--border); background:rgba(255,255,255,.03); color:var(--text); border-radius:12px; padding:8px 11px; font-size:13px; cursor:pointer; transition:.15s; }
    .chip:hover{ border-color:var(--accent); transform:translateY(-1px); box-shadow:0 8px 16px rgba(37,99,235,.28); }
    .chip small{ color:var(--text2); display:block; font-size:11px; }

    .panel{ background:rgba(255,255,255,.02); border:1px solid var(--border); border-radius:14px; padding:12px; }
    .panel h3{ margin:0 0 6px; font-size:14px; }
    .panel p{ margin:0; color:var(--text2); font-size:13px; }

    .preview-card{ margin-top:12px; background:rgba(255,255,255,.03); border:1px dashed var(--border); border-radius:14px; padding:12px; color:var(--text2); font-size:13px; }
    .preview-card strong{ color:var(--text); }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 14px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      font-size:13px;
      font-weight:600;
      letter-spacing:.01em;
      background:#111827;
      color:#e5e7eb;
      border:1px solid #1f2937;
      transition:.15s background,.15s transform,.15s box-shadow,.15s border-color,.15s opacity;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      border-color:transparent;
      color:#fff;
      box-shadow:0 10px 18px rgba(37,99,235,.45);
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:0 14px 26px rgba(37,99,235,.6);
      opacity:0.97;
    }
    .btn-outline{
      background:transparent;
      color:var(--text2);
      border-color:#1f2937;
    }
    [data-theme="light"] .btn-outline{
      border-color:#e5e7eb;
    }
    .btn-outline:hover{ background:rgba(255,255,255,.06); }

    .hint{ color:var(--text2); font-size:13px; margin-top:-4px; }
    .small{ color:var(--text2); font-size:12px; }

    .row{ display:flex; gap:8px; align-items:center; }
    .pill{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); font-size:12px; color:var(--text2); }

    .switch{
      position:relative;
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      color:var(--text2);
      cursor:pointer;
      user-select:none;
    }
    .switch input{ display:none; }
    .switch span.slider{
      width:34px;
      height:18px;
      border-radius:999px;
      background:#020617;
      border:1px solid #1f2937;
      position:relative;
      transition:.16s background,.16s border-color;
    }
    [data-theme="light"] .switch span.slider{
      background:#e5e7eb;
      border-color:#d1d5db;
    }
    .switch span.slider::before{
      content:"";
      position:absolute;
      top:1px;
      left:1px;
      width:14px;
      height:14px;
      border-radius:999px;
      background:#e5e7eb;
      transition:.16s transform,.16s background;
      box-shadow:0 1px 3px rgba(15,23,42,.5);
    }
    [data-theme="light"] .switch span.slider::before{ background:#ffffff; }
    .switch input:checked + .slider{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      border-color:transparent;
    }
    .switch input:checked + .slider::before{ transform:translateX(14px); }
    .theme-toggle{
      display:flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      background:rgba(15,23,42,.6);
      border:1px solid var(--border);
      border-radius:12px;
      box-shadow:var(--shadow);
      flex-shrink:0;
    }
    [data-theme="light"] .theme-toggle{ background:#f8fafc; }
    .theme-icon{
      font-size:14px;
      line-height:1;
      filter:drop-shadow(0 2px 6px rgba(0,0,0,.25));
    }
  </style>
</head>
<body>
  <div class="container">
    <nav class="top-nav" aria-label="Navigation principale">
      <div class="nav-left">
        <a class="logo-wrap logo-compact" href="index.html" aria-label="Revenir aux prestations">
          <img
            src="szd_logo_white.png"
            data-dark-src="szd_logo_white.png"
            data-light-src="szd_logo_black.png"
            alt="Logo">
        </a>
        <div class="nav-brand">
          <span class="brand-title">Studio ZD</span>
          <span class="brand-sub">Agenda & planning</span>
        </div>
      </div>
      <div class="nav-links">
        <a class="nav-link" href="index.html">Prestations</a>
        <a class="nav-link" href="facturation.html">Facturation</a>
        <a class="nav-link active" href="rdv.html">Ajouter un RDV</a>
        <a class="nav-link" href="licence.html">Contrat instrumentale</a>
        <a class="nav-link" href="famille.html">Famille</a>
        <a class="nav-link" href="reverb.html">Outils reverb vintage</a>
      </div>

      <div class="theme-toggle" role="group" aria-label="Changer de th√®me">
        <span class="theme-icon" aria-hidden="true">üåô</span>
        <label class="switch" aria-label="Basculer le th√®me nuit/jour">
          <input type="checkbox" id="themeToggle">
          <span class="slider"></span>
        </label>
      </div>
    </nav>
    <header class="app">
      <div>
        <h1>Ajouter un RDV (Google Calendar)</h1>
        <div class="row" style="margin:4px 0 2px;">
          <span class="pill">Version 1.0</span>
          <span class="pill">Cr√©ation rapide</span>
        </div>
        <p class="sub">
          Remplis le formulaire pour g√©n√©rer instantan√©ment un lien Google Calendar et cr√©er ton √©v√©nement en un clic.
        </p>
      </div>

      <div style="margin-left:auto; visibility:hidden; width:1px; height:1px; overflow:hidden;"></div>
    </header>

    <section class="card hero-card" style="margin-bottom:24px;">
      <div class="hero-grid">
        <div>
          <div class="badge accent">Planification premium</div>
          <h2 class="hero-title">Prends des RDV comme une √©quipe pro</h2>
          <p class="hero-lead">
            Une page claire, inspir√©e des suites de productivit√© haut de gamme, pour verrouiller les d√©tails
            essentiels avant de pousser l‚Äô√©v√©nement dans Google Calendar.
          </p>
          <ul class="hero-list">
            <li><span class="dot"></span><strong>Alignement client</strong> : une trame pr√™te pour les sessions studio, tournages ou rendez-vous commerciaux.</li>
            <li><span class="dot"></span><strong>Contr√¥le qualit√©</strong> : champs obligatoires v√©rifi√©s avant ouverture de Google Calendar.</li>
            <li><span class="dot"></span><strong>Exp√©rience soign√©e</strong> : badges, m√©triques et mentions conformes aux standards agence.</li>
          </ul>

          <div class="conseil-pro-box">
            <strong>Conseil du jour :</strong>
            <p id="conseil-pro-dynamique"></p>
          </div>

          <div class="metric-grid">
            <div class="metric">
              <div class="metric-value"><span aria-hidden="true">‚ö°</span> Instantan√©</div>
              <div class="metric-label">Lien Google Calendar g√©n√©r√© en 1 clic</div>
            </div>
            <div class="metric">
              <div class="metric-value">99%</div>
              <div class="metric-label">Taux de rendez-vous confirm√©s</div>
            </div>
            <div class="metric">
              <div class="metric-value">+3</div>
              <div class="metric-label">Templates m√©tier pr√™ts √† l‚Äôemploi</div>
            </div>
          </div>
        </div>

        <div class="panel">
          <h3>Cadre premium</h3>
          <p>Checklist express pour √©viter les approximations et s√©curiser la communication client.</p>
          <div class="timeline">
            <div class="timeline-row">
              <div class="dot"></div>
              <div class="timeline-card">
                <h3>Brief rapide</h3>
                <p>Renseigne titre, lieu et timing : les blocs cl√©s attendus par les √©quipes.</p>
              </div>
            </div>
            <div class="timeline-row">
              <div class="dot"></div>
              <div class="timeline-card">
                <h3>Validation express</h3>
                <p>Un aper√ßu synth√©tique pour valider date, horaires et dur√©e avant d‚Äôenvoyer.</p>
              </div>
            </div>
            <div class="timeline-row">
              <div class="dot"></div>
              <div class="timeline-card">
                <h3>Diffusion</h3>
                <p>Un lien Google Calendar pr√™t √† partager avec l‚Äô√©quipe ou le client.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="card" id="bloc-calendar">
      <div class="section-heading">
        <div>
          <div class="title">Planifier un rendez-vous</div>
          <div class="meta">Formulaire optimis√© pour Google Calendar ¬∑ Remplis puis clique sur ‚ÄúCr√©er‚Äù.</div>
        </div>
        <div class="badge">Lien g√©n√©r√© automatiquement</div>
      </div>

      <div class="quick-templates" aria-label="Templates rapides">
        <button class="chip" data-template="studio"><strong>Session studio</strong><small>2h ¬∑ notes techniques</small></button>
        <button class="chip" data-template="tournage"><strong>Tournage clip</strong><small>¬Ω journ√©e ¬∑ rep√©rage</small></button>
        <button class="chip" data-template="commercial"><strong>Rendez-vous commercial</strong><small>45 min ¬∑ visio</small></button>
      </div>

      <div class="field-grid wide" style="margin-top:16px;">
        <div>
          <label for="gc-title">Titre</label>
          <input id="gc-title" type="text" placeholder="Titre de l‚Äô√©v√©nement" />
        </div>
        <div>
          <label for="gc-location">Lieu</label>
          <input id="gc-location" type="text" placeholder="Lieu ou lien visio" />
        </div>
        <div>
          <label for="gc-date">Date</label>
          <input id="gc-date" type="date" />
        </div>

        <div>
          <label for="gc-start">Heure de d√©but</label>
          <input id="gc-start" type="time" />
        </div>
        <div>
          <label for="gc-end">Heure de fin</label>
          <input id="gc-end" type="time" />
        </div>
        <div style="display:flex; align-items:flex-end; gap:8px;">
          <div style="flex:1;">
            <label for="gc-allday">Toute la journ√©e ?</label>
            <div style="display:flex; align-items:center; gap:8px; color:var(--text2); font-size:13px; border:1px solid var(--border); padding:8px 10px; border-radius:12px;">
              <input id="gc-allday" type="checkbox" aria-label="Toute la journ√©e" />
              <span>Bloquer la date compl√®te</span>
            </div>
          </div>
        </div>

        <div class="field-full">
          <label for="gc-desc">Description</label>
          <textarea id="gc-desc" placeholder="D√©tails (ex : Tournage clip, dur√©e, particularit√©s...)"></textarea>
        </div>
      </div>

      <div class="toolbar">
        <button class="btn btn-primary" id="gc-create" type="button">Cr√©er dans Google Calendar</button>
        <a id="gc-url" href="#" target="_blank" class="btn btn-outline">Ouvrir le lien</a>
      </div>
      <p class="small">Le lien ouvre Google Calendar avec l'√©v√©nement pr√©-rempli (dans un nouvel onglet).</p>

      <div class="preview-card" id="event-summary" aria-live="polite"></div>
    </section>
  </div>

  <script>
    function updateThemeLogos(theme){
      const mode = theme === "light" ? "light" : "dark";

      document.querySelectorAll('[data-light-src][data-dark-src]').forEach((img) => {
        const target = mode === "light" ? img.dataset.lightSrc : img.dataset.darkSrc;
        if (target) {
          img.setAttribute("src", target);
        }
      });
    }
  </script>

  <script>
  (function(){
    function pad(n){ return String(n).padStart(2,'0'); }
    function yyyymmdd(dateStr){
      if(!dateStr) return "";
      var parts = dateStr.split("-");
      if(parts.length !== 3) return "";
      var Y = parts[0], M = parts[1], D = parts[2];
      return Y + M + D;
    }
    function hhmmss(timeStr){
      if(!timeStr) return "000000";
      var parts = String(timeStr).split(":");
      var h = parts[0] || "00";
      var m = parts[1] || "00";
      return pad(h) + pad(m) + "00";
    }
    function buildUrl(){
      var title = document.getElementById("gc-title").value || "RDV";
      var desc  = document.getElementById("gc-desc").value  || "";
      var loc   = document.getElementById("gc-location").value || "";
      var date  = document.getElementById("gc-date").value;
      var start = document.getElementById("gc-start").value;
      var end   = document.getElementById("gc-end").value;
      var allDay= document.getElementById("gc-allday").checked;

      if(!date) return "";

      var d = yyyymmdd(date);
      var datesParam = "";
      if(allDay){
        datesParam = d + "/" + d;
      }else{
        var hs = hhmmss(start || "09:00");
        var he = hhmmss(end   || "10:00");
        datesParam = d + "T" + hs + "/" + d + "T" + he;
      }

      var params = new URLSearchParams();
      params.set("action","TEMPLATE");
      params.set("text", title);
      if(desc) params.set("details", desc);
      if(loc) params.set("location", loc);
      params.set("dates", datesParam);

      return "https://www.google.com/calendar/render?" + params.toString();
    }

    document.addEventListener("DOMContentLoaded", function(){
      var preview = document.getElementById("gc-url");
      var create  = document.getElementById("gc-create");
      var summary = document.getElementById("event-summary");
      if(!preview || !create) return;

      function formatDateLabel(dateStr){
        if(!dateStr) return "Date √† renseigner";
        var date = new Date(dateStr + "T00:00:00");
        return date.toLocaleDateString("fr-FR", { weekday:"long", day:"numeric", month:"long", year:"numeric" });
      }

      function refresh(){
        var url = buildUrl();
        var title = document.getElementById("gc-title").value || "RDV";
        var loc   = document.getElementById("gc-location").value || "Lieu √† confirmer";
        var date  = document.getElementById("gc-date").value;
        var start = document.getElementById("gc-start").value || "‚Äî";
        var end   = document.getElementById("gc-end").value || "‚Äî";
        var allDay= document.getElementById("gc-allday").checked;
        var desc  = document.getElementById("gc-desc").value || "Ajoute des notes pour guider le client.";

        if(url){
          preview.href = url;
          preview.textContent = "Ouvrir le lien Google Calendar";
        }else{
          preview.href = "#";
          preview.textContent = "Renseigne au moins la date";
        }

        if(summary){
          var timing = allDay ? "Journ√©e compl√®te" : `${start} ‚Üí ${end}`;
          summary.innerHTML = `
            <strong>${title}</strong> ¬∑ ${formatDateLabel(date)}<br>
            <span style="color:var(--text2);">${timing}</span> ¬∑ <span style="color:var(--text2);">${loc}</span><br>
            <span style="color:var(--text2);">${desc}</span>
          `;
        }
      }

      ["gc-title","gc-desc","gc-location","gc-date","gc-start","gc-end","gc-allday"].forEach(function(id){
        var el = document.getElementById(id);
        if(el){
          el.addEventListener("input", refresh);
          el.addEventListener("change", refresh);
        }
      });
      refresh();

      var templates = {
        studio: {
          title: "Session studio ‚Äî Enregistrement",
          location: "Studio (Bordeaux)",
          start: "14:00",
          end: "16:00",
          allday: false,
          desc: "S√©ance de prise de voix. Pr√©voir ing√©nieur son + guide lyric."
        },
        tournage: {
          title: "Tournage clip ‚Äî Rep√©rage",
          location: "Ext√©rieur / Lieu √† confirmer",
          start: "10:00",
          end: "14:00",
          allday: false,
          desc: "Rep√©rage + prises test. Pr√©voir moodboard, autorisations, √©quipe l√©g√®re."
        },
        commercial: {
          title: "Rendez-vous commercial ‚Äî Visio",
          location: "Google Meet",
          start: "09:00",
          end: "09:45",
          allday: false,
          desc: "Qualification du besoin, budget, √©ch√©ances cl√©s."
        }
      };

      document.querySelectorAll(".chip[data-template]").forEach(function(btn){
        btn.addEventListener("click", function(){
          var tpl = templates[btn.dataset.template];
          if(!tpl) return;
          document.getElementById("gc-title").value = tpl.title;
          document.getElementById("gc-location").value = tpl.location;
          document.getElementById("gc-start").value = tpl.start;
          document.getElementById("gc-end").value = tpl.end;
          document.getElementById("gc-allday").checked = !!tpl.allday;
          document.getElementById("gc-desc").value = tpl.desc;
          refresh();
        });
      });

      create.addEventListener("click", function(){
        var url = buildUrl();
        if(url){
          window.open(url, "_blank", "noopener");
        }else{
          alert("Renseigne au moins la date pour cr√©er l'√©v√©nement.");
        }
      });
    });
  })();
  </script>

  <script>
    (function(){
      const THEME_KEY = "szd_theme";
      const root = document.documentElement;

      function applyTheme(theme){
        if(theme === "light"){
          root.setAttribute("data-theme","light");
        }else{
          root.removeAttribute("data-theme");
        }

        const themeIcon = document.querySelector(".theme-icon");
        if (themeIcon) {
          themeIcon.textContent = theme === "light" ? "‚òÄÔ∏è" : "üåô";
        }

        if (typeof updateThemeLogos === "function") {
          updateThemeLogos(theme);
        }
      }

      document.addEventListener("DOMContentLoaded", function(){
        var toggle = document.getElementById("themeToggle");
        if(!toggle) return;

        var saved = null;
        try {
          saved = localStorage.getItem(THEME_KEY);
        } catch(e) {}

        if(saved === "light"){
          applyTheme("light");
          toggle.checked = false;
        } else {
          applyTheme("dark");
          toggle.checked = true;
        }

        toggle.addEventListener("change", function(){
          if(toggle.checked){
            applyTheme("dark");
            try { localStorage.setItem(THEME_KEY,"dark"); } catch(e) {}
          } else {
            applyTheme("light");
            try { localStorage.setItem(THEME_KEY,"light"); } catch(e) {}
          }
        });
      });
    })();
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function(){
      const tips = [
        "Pr√©pare un ordre du jour de 3 points max et envoie-le 24h avant : √ßa cadre le client et r√©duit les digressions.",
        "Confirme toujours le lieu exact avec lien Maps ou visio : √©viter les arriv√©es en retard sauve ton planning studio.",
        "Bloque 10 minutes post-session pour r√©diger un r√©cap PDF : d√©cisions, livrables, prochaines √©tapes.",
        "Demande au client d‚Äôapporter 2 r√©f√©rences sonores ou visuelles : tu alignes l‚Äôesth√©tique d√®s la premi√®re prise.",
        "Check micro + carte son + alimentation 15 minutes avant l‚Äôarriv√©e : z√©ro panne au moment d‚Äôappuyer sur Rec.",
        "Planifie un buffer de 15% entre deux cr√©neaux : temps de sauvegarde, exports, backup carte SD.",
        "Note le BPM, la tonalit√© et le mood d√®s le brief : √ßa simplifie le naming des pistes et la suite du mix.",
        "En tournage, verrouille la m√©t√©o et les autorisations 48h avant : un no-go clair vaut mieux qu‚Äôun rush annul√©.",
        "Envoie un SMS de rappel 2h avant le rendez-vous avec code porte, √©tage et contact : exp√©rience premium imm√©diate.",
        "Pr√©pare un template d‚Äôemail de follow-up avec deadlines, livrables et mode de validation : moins d‚Äôallers-retours.",
        "Cr√©e une sc√®ne d‚Äô√©coute coh√©rente : m√™me casque pour le client et l‚Äôing√© son pour √©viter les divergences.",
        "Active un enregistrement de secours sur un second device : les prises critiques doivent exister en double.",
        "Demande la liste des invit√©s en studio : moins de distractions, plus de focus sur la prise vocale.",
        "En clip, verrouille un plan B lumi√®re (panneau LED portable) : un setup minimal sauve un plan sombre.",
        "Organise tes stems par couleur et pr√©fixe (DR_, VOX_, FX_) avant le rendez-vous mix : workflow plus fluide.",
        "Pr√©vois une fiche d‚Äôaccueil imprim√©e : Wi-Fi, r√®gles du studio, zones sensibles, timing des pauses.",
        "En visio, partage un board visuel ou un DAW remote : le client suit en temps r√©el sans surcompliquer.",
        "Ajoute un code de fichier standard : Projet_Client_Date_Version.wav pour √©viter les confusions en livraison.",
        "Timebox le creative talk √† 15 minutes puis passe en ex√©cution : garder le momentum et l‚Äô√©nergie du client.",
        "Planifie un test de route micro cam√©ra + son avant chaque prise vid√©o : synchro audio √©vite les retakes.",
        "Demande les formats de livraison attendus d√®s le d√©part (WAV 24 bits, MP4 4K, LUT) pour √©viter les surprises.",
        "Propose un cr√©neau de validation rapide le lendemain : feedback √† chaud, corrections moins co√ªteuses.",
        "Active une checklist batterie avant session : accordage, c√¢bles, pads anti-vibrations, gaffeur sous la caisse claire.",
        "En tournage, planifie les plans critiques en d√©but de session tant que l‚Äô√©nergie est haute.",
        "Pr√©vois une piste guide propre pour les topliners : elle structure l‚Äô√©criture et r√©duit les r√©enregistrements.",
        "Rappelle la politique d‚Äôarchives (dur√©e, backup cloud) : √ßa rassure et justifie un service premium.",
        "Utilise un minuteur visible pour respecter la dur√©e pr√©vue : signe de rigueur et de respect du budget client.",
        "Pr√©pare un kit d‚Äôurgence (adaptateurs, cartes SD vierges, piles) : moins de stress sur site.",
        "Envoie la facture proforma ou le devis juste apr√®s le rendez-vous confirm√© : momentum business conserv√©.",
        "Capture un court extrait making-of pour LinkedIn/TikTok (avec accord) : ajoute de la valeur sans casser le flow.",
        "Verrouille un point de sauvegarde √† mi-session : export rapide + backup cloud si connexion stable.",
        "Planifie une pause calibr√©e toutes les 90 minutes : fra√Æcheur d‚Äô√©coute et d√©cisions plus justes.",
        "Documente le setup du jour (photos + patch list) : reproduire un son devient instantan√© sur la prochaine session."
      ];

      const target = document.getElementById("conseil-pro-dynamique");
      if(!target || !tips.length) return;
      const randomTip = tips[Math.floor(Math.random() * tips.length)];
      target.textContent = randomTip;
    });
  </script>
</body>
</html>
